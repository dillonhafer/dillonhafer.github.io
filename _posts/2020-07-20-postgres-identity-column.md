---
title: Postgres Identity Column
tag: sql
---

The Postgres wiki recommends not using the `serial` type, and instead added identity columns to replace them.

Old way:

```sql
create table todos (
  id bigserial primary key,
  todo text not null
);
```

The new way with identity columns:

```sql
create table todos (
  id bigint generated by default as identity primary key,
  todo text not null
);
```

Data:

```sql
insert into todos (todo) values
  ('write a til'),
  ('get some coffee');

select *
from todos;
```
```text
 id |      todo
----+-----------------
  1 | write a til
  2 | get some coffee
(2 rows)
```

Source: [PG wiki: Don't use serial](https://wiki.postgresql.org/wiki/Don%27t_Do_This#Don't_use_serial)
